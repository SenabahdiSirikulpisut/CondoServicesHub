<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Condo Services Hub</title>
<style>
body { font-family:sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; background:#f9f9f9; margin:0; }
#hub { position:relative; width:350px; height:350px; }
#center-node { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:120px; height:120px; border-radius:50%; background:#ffcc00; display:flex; justify-content:center; align-items:center; cursor:pointer; font-size:1.2rem; text-align:center; box-shadow:0 6px 12px rgba(0,0,0,0.3); }
.node { position:absolute; width:70px; height:70px; border-radius:50%; background:#00ccff; display:flex; justify-content:center; align-items:center; cursor:pointer; transition: transform 0.2s, box-shadow 0.2s; font-size:1.5rem; box-shadow:0 4px 8px rgba(0,0,0,0.2); animation: float 3s ease-in-out infinite; }
.node:active { transform:scale(0.9); box-shadow:0 2px 4px rgba(0,0,0,0.2); }
.node:hover { transform:scale(1.1); box-shadow:0 6px 12px rgba(0,0,0,0.3); }
@keyframes float { 0%{transform:translateY(0);} 50%{transform:translateY(-5px);} 100%{transform:translateY(0);} }
#popup { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.2); max-width:300px; text-align:center; display:none; }
#popup a { display:block; margin-top:10px; text-decoration:none; background:#00ccff; color:white; padding:8px 12px; border-radius:5px; }
#popup button { margin-top:10px; padding:5px 10px; border:none; border-radius:5px; background:#ccc; cursor:pointer; }
</style>
</head>
<body>

<div id="hub">
  <div id="center-node">üè¢ Condo Services</div>
  <div id="nodes-container"></div>
</div>

<div id="popup">
  <div id="popup-content"></div>
  <button onclick="closePopup()">Close</button>
</div>

<script>
const container = document.getElementById("nodes-container");
const popup = document.getElementById("popup");
const popupContent = document.getElementById("popup-content");
const centerX = 175;
const centerY = 175;
const radius = 140;

// Replace this with your Google Apps Script web app URL
const GAS_URL = "YOUR_GAS_WEB_APP_URL";

fetch(GAS_URL)
  .then(res => res.json())
  .then(services => {
    const angleStep = (2 * Math.PI) / services.length;

    services.forEach((service, index) => {
      const angle = index * angleStep;
      const x = centerX + radius * Math.cos(angle) - 35;
      const y = centerY + radius * Math.sin(angle) - 35;

      const node = document.createElement("div");
      node.className = "node";
      node.style.left = x + "px";
      node.style.top = y + "px";
      node.style.animationDelay = `${index * 0.2}s`;
      node.innerHTML = service.icon;

      node.onclick = () => {
        popupContent.innerHTML = `
          <h3>${service.name}</h3>
          <p>${service.instructions}</p>
          <a href="${service.link}" target="_blank">
            ${service.type === "direct" ? "Go to Service" : "Open App"}
          </a>`;
        popup.style.display = "block";
      };

      container.appendChild(node);
    });
  })
  .catch(err => {
    console.error("Failed to load services:", err);
  });

function closePopup() {
  popup.style.display = "none";
}
</script>

</body>
</html>
